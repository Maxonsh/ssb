.page-header
  h1 = "#{resource_offer.type} offer"
.offer_form@@offer_form data-country=Rails.application.secrets[:location]['country'] data-region=Rails.application.secrets[:location]['region']
  = form_for resource_offer, :method => (resource_offer.persisted? ? :patch : :post) do |f|
    .form-group
      .field-label
        = f.label :price
      .input-group
        .input-group-addon $
        = f.text_field :price, :class => 'form-control'
      .error-msg = resource_offer.errors[:price].join(', ')

    .form-group
      .field-label
        = f.label :description
      .field-input
        = f.text_area :description, :class => 'form-control'
      .error-msg = resource_offer.errors[:description].join(', ')

    = f.fields_for :property do |ff|
      .gmap-group@gmap_group
        .form-group
          .field-label
            = ff.label :address
          .field-input
            = ff.text_field :address, :'data-role' => 'gmaps_input_address', :placeholder => 'Start typing a place...', :class => 'form-control'
            = ff.hidden_field :latitude, :'data-role' => 'gmaps_output_latitude'
            = ff.hidden_field :longitude, :'data-role' => 'gmaps_output_longitude'
            .gmap-error@gmaps_error
          .error-msg = resource_offer.errors[:"property.address"].join(', ')

        .form-group
          .gmap@gmaps_canvas

    .form-group
      = f.submit 'Create', :class => "btn btn-primary btn-md"
